<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
 <title>dbdeploy - ant configuration</title>
</head>
<body>

<h1> Configuring dbdeploy for ant</h1>

<p>
Configuration requires aditing your project build file - by default this will be called <tt>build.xml</tt>.
</p>
<p>
Ensure that dbdeploy.jar is included in your classpath.
</p>
<p>
First you need to include an ant taskdef, to do this include the following line in build.xml
</p>
<pre class="wiki">    &lt;taskdef name=&#34;dbdeploy&#34; classname=&#34;net.sf.dbdeploy.AntTarget&#34;/&gt;

</pre>
<p>
Next include a call to the dbdeploy task in the relevant database target, for example:
</p>
<pre class="wiki">    &lt;dbdeploy
        driver=&#34;org.hsqldb.jdbcDriver&#34;
        url=&#34;jdbc:hsqldb:hsql://localhost/xdb&#34;
        userid=&#34;sa&#34;
        password=&#34;s3cur1ty&#34;
        dir=&#34;${basedir}\db\deltas&#34;
        outputfile=&#34;${basedir}\build\output\all-deltas.sql&#34;
        dbms=&#34;hsql&#34;
        undoOutputfile=&#34;${basedir}\build\output\undo-all-deltas.sql&#34;
    /&gt;
</pre>
<p>

The parameters are as follows:
</p>
<table class="wiki">
<tr><td><strong>Attribute</strong></td><td><strong>Description</strong></td><td><strong>Required</strong>

</td></tr><tr><td>driver</td><td>Specifies the jdbc driver.</td><td>Yes

</td></tr><tr><td>url</td><td>Specifies the url of the database that the deltas are to be applied to.</td><td>Yes

</td></tr><tr><td>userid</td><td>The ID of a dbms user who has permissions to select from the schema version table.</td><td>Yes

</td></tr><tr><td>password</td><td>The password of the dbms user who has permissions to select from the schema version table.</td><td>Yes

</td></tr><tr><td>dir</td><td>Full or relative path to the directory containing the delta scripts.</td><td>Yes

</td></tr><tr><td>outputfile</td><td>The name of the script that dbdeploy will output. Include a full or relative path.</td><td>Yes

</td></tr><tr><td>dbms</td><td>The target dbms. Valid values are:<br />ora -> Oracle<br />syb-ase -> Sybase ASE<br />hsql -> Hypersonic SQL<br />mssql -> MS SQL Server</td><td>Yes

</td></tr><tr><td>undoOutputfile</td><td>The name of the undo script that dbdeploy will output. Include a full or relative path.</td><td>No

</td></tr><tr><td>maxNumberToApply</td><td>The highest numbered delta script to apply.</td><td>No

</td></tr><tr><td>deltaSet</td><td>A tag used to identify a grouping of delta scripts - useful if you need to separate DDL and DML when deploying to replicated environments.<br />If not supplied defaults to &#34;All&#34;</td><td>No

</td></tr></table>
 </body>
</html>
